package golang

import (
	"github.com/varavelio/gen"
	"github.com/varavelio/vdl/toolchain/internal/codegen/config"
	"github.com/varavelio/vdl/toolchain/internal/core/ir"
	"github.com/varavelio/vdl/toolchain/internal/version"
)

func generatePackage(_ *ir.Schema, _ *flatSchema, config *config.GoConfig) string {
	g := gen.New().WithTabs()

	g.Linef("// Code generated by VDL v%s. DO NOT EDIT.", version.Version)
	g.Line("// If you edit this file, it will be overwritten the next time it is generated.")
	g.Break()
	g.Linef("// Package %s contains generated code for VDL.", config.Package)
	g.Line("//")
	g.Line("// For more information about VDL, visit https://vdl.varavel.com")
	g.Linef("package %s", config.Package)

	return g.String()
}
