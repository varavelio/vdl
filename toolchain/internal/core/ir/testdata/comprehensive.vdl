"""
Comprehensive schema to validate IR flattening and value resolution.
"""

"""
Standalone documentation block.
"""

@entity
type AuditFields {
  createdAt datetime
  updatedAt datetime
}

type Coordinates {
  lat float
  lng float
}

type Address {
  street string
  city string
  location Coordinates
}

type User {
  ...AuditFields
  @id
  id string
  email string
  address Address
  tags string[]
  metadata map[string]
  preferences {
    locale string
    notifications bool
  }
}

enum UserStatus {
  Active
  Inactive
  Suspended = "suspended"
}

enum Priority {
  Low = 1
  Medium = 2
  High = 3
}

@featureFlag
const maxPageSize = 100
const baseTags = ["api" "core"]
const defaultStatus = UserStatus.Active
const defaultPriority = Priority.Medium
const baseConfig = {
  retries 3
  timeoutMs 2500
}
const serviceConfig = {
  ...baseConfig
  name "users"
  tags baseTags
}
