openapi: 3.0.0
info:
  title: Multi-RPC API
  version: 1.0.0
security:
  - AuthToken: []
tags:
  - name: OrderServiceProcedures
    description: Order management service.
  - name: ProductServiceProcedures
    description: Product catalog service.
  - name: UserServiceProcedures
    description: User management service.
paths:
  /OrderService/CreateOrder:
    post:
      requestBody:
        $ref: "#/components/requestBodies/OrderServiceCreateOrderInput"
      responses:
        "200":
          $ref: "#/components/responses/OrderServiceCreateOrderOutput"
      tags:
        - OrderServiceProcedures
  /OrderService/GetOrdersByUser:
    post:
      requestBody:
        $ref: "#/components/requestBodies/OrderServiceGetOrdersByUserInput"
      responses:
        "200":
          $ref: "#/components/responses/OrderServiceGetOrdersByUserOutput"
      tags:
        - OrderServiceProcedures
  /ProductService/GetProduct:
    post:
      requestBody:
        $ref: "#/components/requestBodies/ProductServiceGetProductInput"
      responses:
        "200":
          $ref: "#/components/responses/ProductServiceGetProductOutput"
      tags:
        - ProductServiceProcedures
  /ProductService/SearchProducts:
    post:
      requestBody:
        $ref: "#/components/requestBodies/ProductServiceSearchProductsInput"
      responses:
        "200":
          $ref: "#/components/responses/ProductServiceSearchProductsOutput"
      tags:
        - ProductServiceProcedures
  /UserService/GetUser:
    post:
      requestBody:
        $ref: "#/components/requestBodies/UserServiceGetUserInput"
      responses:
        "200":
          $ref: "#/components/responses/UserServiceGetUserOutput"
      tags:
        - UserServiceProcedures
  /UserService/ListUsers:
    post:
      requestBody:
        $ref: "#/components/requestBodies/UserServiceListUsersInput"
      responses:
        "200":
          $ref: "#/components/responses/UserServiceListUsersOutput"
      tags:
        - UserServiceProcedures
components:
  securitySchemes:
    AuthToken:
      description: "Enter the full value for the Authorization header. The specific format (Bearer, Basic, API Key, etc.) is determined by the server's implementation.\n\n---\n**Examples:**\n- **Bearer Token:** `Bearer eyJhbGciOiJIUzI1Ni...` (a JWT token)\n- **Basic Auth:** `Basic dXNlcm5hbWU6cGFzc3dvcmQ=` (a base64 encoding of `username:password`)\n- **API Key:** `sk_live_123abc456def` (a raw token)"
      in: header
      name: Authorization
      type: apiKey
  schemas:
    Order:
      properties:
        id:
          type: string
        productIds:
          items:
            type: string
          type: array
        total:
          type: number
        userId:
          type: string
      required:
        - id
        - userId
        - productIds
        - total
      type: object
    Product:
      properties:
        id:
          type: string
        name:
          type: string
        price:
          type: number
      required:
        - id
        - name
        - price
      type: object
    User:
      properties:
        id:
          type: string
        name:
          type: string
      required:
        - id
        - name
      type: object
  requestBodies:
    OrderServiceCreateOrderInput:
      content:
        application/json:
          schema:
            properties:
              productIds:
                items:
                  type: string
                type: array
              userId:
                type: string
            required:
              - userId
              - productIds
            type: object
      description: Request body for OrderService/CreateOrder procedure
    OrderServiceGetOrdersByUserInput:
      content:
        application/json:
          schema:
            properties:
              userId:
                type: string
            required:
              - userId
            type: object
      description: Request body for OrderService/GetOrdersByUser procedure
    ProductServiceGetProductInput:
      content:
        application/json:
          schema:
            properties:
              id:
                type: string
            required:
              - id
            type: object
      description: Request body for ProductService/GetProduct procedure
    ProductServiceSearchProductsInput:
      content:
        application/json:
          schema:
            properties:
              maxPrice:
                type: number
              query:
                type: string
            required:
              - query
            type: object
      description: Request body for ProductService/SearchProducts procedure
    UserServiceGetUserInput:
      content:
        application/json:
          schema:
            properties:
              id:
                type: string
            required:
              - id
            type: object
      description: Request body for UserService/GetUser procedure
    UserServiceListUsersInput:
      content:
        application/json:
          schema:
            properties:
              limit:
                type: integer
              offset:
                type: integer
            required:
              - limit
              - offset
            type: object
      description: Request body for UserService/ListUsers procedure
  responses:
    OrderServiceCreateOrderOutput:
      content:
        application/json:
          schema:
            properties:
              error:
                properties:
                  category:
                    type: string
                  code:
                    type: string
                  details:
                    additionalProperties: true
                    properties: {}
                    type: object
                  message:
                    type: string
                required:
                  - message
                type: object
              ok:
                type: boolean
              output:
                properties:
                  order:
                    $ref: "#/components/schemas/Order"
                required:
                  - order
                type: object
            required:
              - ok
            type: object
      description: Response for OrderService/CreateOrder procedure
    OrderServiceGetOrdersByUserOutput:
      content:
        application/json:
          schema:
            properties:
              error:
                properties:
                  category:
                    type: string
                  code:
                    type: string
                  details:
                    additionalProperties: true
                    properties: {}
                    type: object
                  message:
                    type: string
                required:
                  - message
                type: object
              ok:
                type: boolean
              output:
                properties:
                  orders:
                    items:
                      $ref: "#/components/schemas/Order"
                    type: array
                required:
                  - orders
                type: object
            required:
              - ok
            type: object
      description: Response for OrderService/GetOrdersByUser procedure
    ProductServiceGetProductOutput:
      content:
        application/json:
          schema:
            properties:
              error:
                properties:
                  category:
                    type: string
                  code:
                    type: string
                  details:
                    additionalProperties: true
                    properties: {}
                    type: object
                  message:
                    type: string
                required:
                  - message
                type: object
              ok:
                type: boolean
              output:
                properties:
                  product:
                    $ref: "#/components/schemas/Product"
                required:
                  - product
                type: object
            required:
              - ok
            type: object
      description: Response for ProductService/GetProduct procedure
    ProductServiceSearchProductsOutput:
      content:
        application/json:
          schema:
            properties:
              error:
                properties:
                  category:
                    type: string
                  code:
                    type: string
                  details:
                    additionalProperties: true
                    properties: {}
                    type: object
                  message:
                    type: string
                required:
                  - message
                type: object
              ok:
                type: boolean
              output:
                properties:
                  products:
                    items:
                      $ref: "#/components/schemas/Product"
                    type: array
                required:
                  - products
                type: object
            required:
              - ok
            type: object
      description: Response for ProductService/SearchProducts procedure
    UserServiceGetUserOutput:
      content:
        application/json:
          schema:
            properties:
              error:
                properties:
                  category:
                    type: string
                  code:
                    type: string
                  details:
                    additionalProperties: true
                    properties: {}
                    type: object
                  message:
                    type: string
                required:
                  - message
                type: object
              ok:
                type: boolean
              output:
                properties:
                  user:
                    $ref: "#/components/schemas/User"
                required:
                  - user
                type: object
            required:
              - ok
            type: object
      description: Response for UserService/GetUser procedure
    UserServiceListUsersOutput:
      content:
        application/json:
          schema:
            properties:
              error:
                properties:
                  category:
                    type: string
                  code:
                    type: string
                  details:
                    additionalProperties: true
                    properties: {}
                    type: object
                  message:
                    type: string
                required:
                  - message
                type: object
              ok:
                type: boolean
              output:
                properties:
                  total:
                    type: integer
                  users:
                    items:
                      $ref: "#/components/schemas/User"
                    type: array
                required:
                  - users
                  - total
                type: object
            required:
              - ok
            type: object
      description: Response for UserService/ListUsers procedure
